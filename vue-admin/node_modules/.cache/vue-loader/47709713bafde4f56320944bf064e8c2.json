{"remainingRequest":"/Users/xay/MovieTicketSystem/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xay/MovieTicketSystem/vue-admin/src/views/leaving/Leaving.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xay/MovieTicketSystem/vue-admin/src/views/leaving/Leaving.vue","mtime":1642510434000},{"path":"/Users/xay/MovieTicketSystem/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1681460239186},{"path":"/Users/xay/MovieTicketSystem/vue-admin/node_modules/vue-loader/lib/index.js","mtime":1681460240108}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7CiAgTGlzdEFsbExlYXZpbmdNZXNzYWdlLCBSZXBseUxlYXZpbmdNZXNzYWdlLAp9IGZyb20gIkAvYXBpL2xlYXZpbmciOwoKZXhwb3J0IGRlZmF1bHQgewoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgd29ya2VyTGlzdDogW10sCiAgICAgIGxlYXZpbmdNZXNzYWdlTGlzdDogW10sCiAgICAgIGZvcm06IHsKICAgICAgICByZXBseTogJycKICAgICAgfSwKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgfQogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBMaXN0QWxsTGVhdmluZ01lc3NhZ2UoKS50aGVuKHJlcyA9PiB7CiAgICAgIHRoaXMubGVhdmluZ01lc3NhZ2VMaXN0ID0gcmVzLmRhdGEKICAgIH0pCiAgfSwKCiAgbWV0aG9kczogewoKICAgIGhhbmRsZVJlcGx5KGl0ZW0sIGluZGV4KSB7CiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlCiAgICAgIHRoaXMuZm9ybSA9IGl0ZW0KICAgIH0sCgogICAgc3VibWl0UmVwbHkoKSB7CiAgICAgIFJlcGx5TGVhdmluZ01lc3NhZ2UodGhpcy5mb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICflm57lpI3nlZnoqIDmiJDlip8nCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAoKICB9LAoKfQo="},{"version":3,"sources":["Leaving.vue"],"names":[],"mappings":";AAiCA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"Leaving.vue","sourceRoot":"src/views/leaving","sourcesContent":["<template>\n  <div class=\"main\">\n    <div class=\"item2\" v-for=\"(item, index) in leavingMessageList\" :key=\"index\">\n      <div style=\"display: flex\">\n        <img class=\"av2\" :src=\"item.user.avatar\" alt=\"null\">\n        <div>\n          <div class=\"d2\">{{ item.user.nickname }}</div>\n          <div v-if=\"!item.user.nickname\" class=\"d2\">匿名用户</div>\n          <div class=\"d3\">{{ item.leavingMessage.content }}</div>\n          <div class=\"d2\">Time: {{ item.leavingMessage.createAt }}</div>\n        </div>\n      </div>\n      <div class=\"reply\">\n        <div class=\"d2\">客服回复:</div>\n        <div class=\"d3\">{{ item.leavingMessage.reply }}</div>\n      </div>\n      <div class=\"reply\">\n        <el-button @click=\"handleReply(item, index)\" type=\"text\">回复留言Reply</el-button>\n      </div>\n    </div>\n\n    <el-dialog title=\"回复留言\" :visible.sync=\"dialogFormVisible\">\n      <el-input type=\"textarea\" :rows=\"8\" v-model=\"form.reply\" autocomplete=\"off\"></el-input>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitReply\">确 定 提 交</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport {\n  ListAllLeavingMessage, ReplyLeavingMessage,\n} from \"@/api/leaving\";\n\nexport default {\n\n  data() {\n    return {\n      workerList: [],\n      leavingMessageList: [],\n      form: {\n        reply: ''\n      },\n      dialogFormVisible: false,\n    }\n  },\n\n  mounted() {\n    ListAllLeavingMessage().then(res => {\n      this.leavingMessageList = res.data\n    })\n  },\n\n  methods: {\n\n    handleReply(item, index) {\n      this.dialogFormVisible = true\n      this.form = item\n    },\n\n    submitReply() {\n      ReplyLeavingMessage(this.form).then(res => {\n        if (res.success) {\n          this.dialogFormVisible = false\n          this.$message({\n            type: 'success',\n            message: '回复留言成功'\n          });\n        }\n      })\n    },\n\n  },\n\n}\n</script>\n\n<style scoped>\n\n.main {\n  color: #000000;\n  padding: 40px;\n}\n\n.item2 {\n  padding-bottom: 60px;\n}\n\n.av {\n  width: 76px;\n  height: 76px;\n  border-radius: 38px;\n  margin-right: 20px;\n  float: left;\n}\n\n.av2 {\n  width: 60px;\n  height: 60px;\n  border-radius: 30px;\n  margin-right: 20px;\n  margin-top: 10px;\n}\n\n.d1 {\n  letter-spacing: 2px;\n  line-height: 30px;\n  color: #afbac4;\n  font-size: 14px;\n}\n\n.d2 {\n  color: #afbac4;\n  letter-spacing: 2px;\n  font-size: 14px;\n  line-height: 30px;\n}\n\n.d3 {\n  letter-spacing: 2px;\n  font-size: 15px;\n  font-weight: 400;\n  line-height: 30px;\n  color: #000000;\n}\n\n.el-button--text {\n  color: #57cc8a;\n}\n\n.btn {\n  float: right;\n  background: #57cc8a;\n  letter-spacing: 1px;\n}\n\n.reply {\n  padding-left: 75px;\n  padding-top: 10px;\n}\n\n</style>"]}]}