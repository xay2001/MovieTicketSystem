{"remainingRequest":"/Users/xay/MovieTicketSystem/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xay/MovieTicketSystem/vue-admin/src/views/worker/Add.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xay/MovieTicketSystem/vue-admin/src/views/worker/Add.vue","mtime":1642510434000},{"path":"/Users/xay/MovieTicketSystem/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1681457359474},{"path":"/Users/xay/MovieTicketSystem/vue-admin/node_modules/vue-loader/lib/index.js","mtime":1681457360778}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7Q3JlYXRlV29ya2VyfSBmcm9tICJAL2FwaS93b3JrZXIiOwppbXBvcnQgY29uZmlnIGZyb20gIkAvY29uZmlnIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaGVhZGVyOiB7CiAgICAgICAgIkF1dGhvcml6YXRpb24iOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKQogICAgICB9LAogICAgICB1cGxvYWRBY3Rpb246IGNvbmZpZy5BUElfVVJMICsgJy91cGxvYWQnLAogICAgICB1cmw6ICcnLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBuaWNrbmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIGdlbmRlcjogJycsCiAgICAgICAgYXZhdGFyOiAnJywKICAgICAgICBwaG9uZTogJycsCiAgICAgICAgZGVwYXJ0bWVudDogJycsCiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKCiAgICBvblN1Ym1pdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgQ3JlYXRlV29ya2VyKHRoaXMuZm9ybSkudGhlbihyZXMgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICfmiJDlip/mtojmga/vvJrmt7vliqDlkZjlt6XmiJDlip8nLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICB9LCA3MDApCiAgICAgIH0pCiAgICB9LAoKICAgIGhhbmRsZVVwbG9hZFN1Y2Nlc3MocmVzKSB7CiAgICAgIHRoaXMuZm9ybS5hdmF0YXIgPSByZXM7CiAgICB9LAoKICB9Cn0K"},{"version":3,"sources":["Add.vue"],"names":[],"mappings":";AAsDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"Add.vue","sourceRoot":"src/views/worker","sourcesContent":["<template>\n  <div v-loading=\"loading\" style=\"padding: 50px\">\n    <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n      <el-form-item label=\"*用户名\">\n        <el-input style=\"width: 300px\" v-model=\"form.username\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"*密码\">\n        <el-input style=\"width: 300px\" v-model=\"form.password\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"*昵称\">\n        <el-input style=\"width: 300px\" v-model=\"form.nickname\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"*性别\">\n        <el-select style=\"width: 200px\" v-model=\"form.gender\" placeholder=\"请选择性别\">\n          <el-option label=\"男\" value=\"男\"></el-option>\n          <el-option label=\"女\" value=\"女\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item style=\"width: 300px\" label=\"*联系电话\">\n        <el-input v-model=\"form.phone\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"*入职部门\">\n        <el-radio-group v-model=\"form.department\">\n          <el-radio label=\"客服部\"></el-radio>\n          <el-radio label=\"运营部\"></el-radio>\n          <el-radio label=\"宣传部\"></el-radio>\n          <el-radio label=\"策划部\"></el-radio>\n          <el-radio label=\"人事部\"></el-radio>\n          <el-radio label=\"监管部\"></el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item label=\"员工头像\">\n        <el-upload\n            class=\"upload-demo\"\n            drag\n            accept=\".png,.jpg\"\n            :headers=\"header\"\n            :action=\"uploadAction\"\n            :on-success=\"handleUploadSuccess\"\n            multiple>\n          <i class=\"el-icon-upload\"></i>\n          <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n          <div class=\"el-upload__tip\" slot=\"tip\">只能上传jpg/png文件，且不超过50mb</div>\n        </el-upload>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"onSubmit\">立即创建</el-button>\n        <el-button>取消</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport {CreateWorker} from \"@/api/worker\";\nimport config from \"@/config\";\n\nexport default {\n  data() {\n    return {\n      header: {\n        \"Authorization\": localStorage.getItem(\"token\")\n      },\n      uploadAction: config.API_URL + '/upload',\n      url: '',\n      loading: false,\n      form: {\n        username: '',\n        nickname: '',\n        password: '',\n        gender: '',\n        avatar: '',\n        phone: '',\n        department: '',\n      }\n    }\n  },\n  methods: {\n\n    onSubmit() {\n      this.loading = true;\n      CreateWorker(this.form).then(res => {\n        setTimeout(() => {\n          this.$message({\n            message: '成功消息：添加员工成功',\n            type: 'success'\n          });\n          this.loading = false\n        }, 700)\n      })\n    },\n\n    handleUploadSuccess(res) {\n      this.form.avatar = res;\n    },\n\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}