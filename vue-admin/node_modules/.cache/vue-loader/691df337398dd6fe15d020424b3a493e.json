{"remainingRequest":"/Users/xay/MovieTicketSystem/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xay/MovieTicketSystem/vue-admin/src/views/user/List.vue?vue&type=style&index=0&id=b1f49250&scoped=true&lang=css&","dependencies":[{"path":"/Users/xay/MovieTicketSystem/vue-admin/src/views/user/List.vue","mtime":1642510434000},{"path":"/Users/xay/MovieTicketSystem/vue-admin/node_modules/css-loader/dist/cjs.js","mtime":1681460239567},{"path":"/Users/xay/MovieTicketSystem/vue-admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1681460240371},{"path":"/Users/xay/MovieTicketSystem/vue-admin/node_modules/postcss-loader/src/index.js","mtime":1681460239816},{"path":"/Users/xay/MovieTicketSystem/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1681460239186},{"path":"/Users/xay/MovieTicketSystem/vue-admin/node_modules/vue-loader/lib/index.js","mtime":1681460240108}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5kZW1vLXRhYmxlLWV4cGFuZCB7CiAgZm9udC1zaXplOiAwOwp9CgouZGVtby10YWJsZS1leHBhbmQgbGFiZWwgewogIHdpZHRoOiA5MHB4OwogIGNvbG9yOiAjOTlhOWJmOwp9CgouZGVtby10YWJsZS1leHBhbmQgLmVsLWZvcm0taXRlbSB7CiAgbWFyZ2luLXJpZ2h0OiAwOwogIG1hcmdpbi1ib3R0b206IDA7CiAgd2lkdGg6IDUwJTsKfQo="},{"version":3,"sources":["List.vue"],"names":[],"mappings":";AA4HA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"List.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n  <div class=\"main\">\n    <el-table\n        :data=\"userList\"\n        style=\"width: 100%\">\n      <el-table-column type=\"expand\">\n        <template slot-scope=\"props\">\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n            <el-form-item label=\"用户名\">\n              <span>{{ props.row.username }}</span>\n            </el-form-item>\n            <el-form-item label=\"昵称\">\n              <span>{{ props.row.nickname }}</span>\n            </el-form-item>\n            <el-form-item label=\"密码\">\n              <el-button type=\"text\" @click=\"openUpdatePassword(props.row)\">\n                <i class=\"el-icon-edit\"></i>编辑密码\n              </el-button>\n            </el-form-item>\n            <el-form-item label=\"邮箱\">\n              <span>{{ props.row.email }}</span>\n            </el-form-item>\n            <el-form-item label=\"性别\">\n              <span>{{ props.row.gender }}</span>\n            </el-form-item>\n            <el-form-item label=\"生日\">\n              <span>{{ props.row.birthday }}</span>\n            </el-form-item>\n            <el-form-item label=\"个人简介\">\n              <span>{{ props.row.info }}</span>\n            </el-form-item>\n            <el-form-item label=\"更新时间\">\n              <span>{{ props.row.updateAt }}</span>\n            </el-form-item>\n            <el-form-item label=\"用户头像 URL\">\n              <a target=\"_blank\" :href=\"props.row.avatar\">{{ props.row.avatar }}</a>\n            </el-form-item>\n          </el-form>\n        </template>\n      </el-table-column>\n      <el-table-column\n          label=\"用户 ID\"\n          width=\"430\"\n          prop=\"id\">\n      </el-table-column>\n      <el-table-column\n          label=\"用户名\"\n          width=\"200\"\n          prop=\"username\">\n      </el-table-column>\n      <el-table-column\n          label=\"昵称\"\n          width=\"200\"\n          prop=\"nickname\">\n      </el-table-column>\n      <el-table-column\n          label=\"注册时间\"\n          prop=\"createAt\">\n      </el-table-column>\n\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport {FindAllUser, UpdateUser} from \"@/api/user\";\n\nexport default {\n\n\n  data() {\n    return {\n      userList: [],\n    }\n  },\n\n  mounted() {\n    FindAllUser().then(res => {\n      this.userList = res.data\n    })\n  },\n\n  methods: {\n\n    openUpdatePassword(user) {\n      this.$prompt('请输入新的密码', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n      }).then(({value}) => {\n        if (!value) {\n          this.$message({\n            type: 'danger',\n            message: '密码不能为空'\n          });\n          return\n        }\n        if (value.length < 6) {\n          this.$message({\n            type: 'danger',\n            message: '请输入不少于6位的密码'\n          });\n          return\n        }\n        user.password = value\n        UpdateUser(user).then(res => {\n          this.$message({\n            message: '账号密码修改成功',\n            type: 'success',\n          });\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消修改'\n        });\n      });\n    }\n\n  },\n\n}\n</script>\n\n<style scoped>\n.demo-table-expand {\n  font-size: 0;\n}\n\n.demo-table-expand label {\n  width: 90px;\n  color: #99a9bf;\n}\n\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n</style>"]}]}