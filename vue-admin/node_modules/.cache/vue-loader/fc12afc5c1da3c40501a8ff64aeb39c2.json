{"remainingRequest":"/Users/xay/MovieTicketSystem/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xay/MovieTicketSystem/vue-admin/src/views/worker/Daily.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xay/MovieTicketSystem/vue-admin/src/views/worker/Daily.vue","mtime":1642510434000},{"path":"/Users/xay/MovieTicketSystem/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1681460239186},{"path":"/Users/xay/MovieTicketSystem/vue-admin/node_modules/vue-loader/lib/index.js","mtime":1681460240108}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7QWRkRGFpbHlXb3JrLCBEZWxldGVEYWlseVdvcmssIExpc3REYWlseVdvcmt9IGZyb20gIkAvYXBpL3dvcmtlciI7CgpleHBvcnQgZGVmYXVsdCB7CgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbGlzdDogW10sCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIHR5cGU6ICcnLAogICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICB9LAogICAgfQogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxvYWRMaXN0KCk7CiAgfSwKCiAgbWV0aG9kczogewoKICAgIGxvYWRMaXN0KCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBMaXN0RGFpbHlXb3JrKCkudGhlbihyZXMgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy5saXN0ID0gcmVzLmRhdGEKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgfSwgNzAwKQogICAgICB9KQogICAgfSwKCiAgICBzYXZlRGFpbHlXb3JrKCkgewogICAgICBBZGREYWlseVdvcmsodGhpcy5mb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgdGhpcy5sb2FkTGlzdCgpCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn5L+d5a2Y5oiQ5YqfIScKICAgICAgICB9KTsKICAgICAgfSkKICAgIH0sCgogICAgaGFuZGxlRGVsZXRlKGluZGV4KSB7CiAgICAgIERlbGV0ZURhaWx5V29yayh0aGlzLmxpc3RbaW5kZXhdLmlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5saXN0LnNsaWNlKGluZGV4LCAxKQogICAgICAgIHRoaXMubG9hZExpc3QoKQogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnCiAgICAgICAgfSk7CiAgICAgIH0pCiAgICB9LAoKICB9LAoKfQo="},{"version":3,"sources":["Daily.vue"],"names":[],"mappings":";AA2DA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"Daily.vue","sourceRoot":"src/views/worker","sourcesContent":["<template>\n  <div style=\"padding: 40px\">\n    <el-button @click=\"dialogFormVisible = true\" plain>添加今日工作</el-button>\n    <el-table\n        v-loading=\"loading\"\n        :data=\"list\"\n        style=\"width: 100%;margin-top: 20px\">\n      <el-table-column\n          prop=\"createAt\"\n          label=\"添加时间\"\n          width=\"220\">\n      </el-table-column>\n      <el-table-column label=\"级别\" width=\"150\">\n        <template slot-scope=\"props\">\n          <el-tag type=\"info\" v-if=\"props.row.type === 1\" effect=\"dark\">\n            普通\n          </el-tag>\n          <el-tag type=\"success\" v-if=\"props.row.type === 2\" effect=\"dark\">\n            重要\n          </el-tag>\n          <el-tag type=\"danger\" v-if=\"props.row.type === 3\" effect=\"dark\">\n            非常重要\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column\n          prop=\"content\"\n          label=\"主要内容\">\n      </el-table-column>\n      <el-table-column width=\"150\" label=\"操作\">\n        <template slot-scope=\"props\">\n          <el-button @click=\"handleDelete(props.$index)\" size=\"small\" type=\"danger\" plain>删 除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog title=\"收货地址\" :visible.sync=\"dialogFormVisible\">\n      <el-form :model=\"form\">\n        <el-form-item label=\"工作级别\" label-width=\"120px\">\n          <el-select v-model=\"form.type\" placeholder=\"请选择活动区域\">\n            <el-option label=\"普通\" value=\"1\"></el-option>\n            <el-option label=\"重要\" value=\"2\"></el-option>\n            <el-option label=\"非常重要\" value=\"3\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item style=\"padding-right: 100px\" label=\"主要内容\" label-width=\"120px\">\n          <el-input :rows=\"8\" type=\"textarea\" v-model=\"form.content\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"saveDailyWork\">确 定 保 存</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport {AddDailyWork, DeleteDailyWork, ListDailyWork} from \"@/api/worker\";\n\nexport default {\n\n  data() {\n    return {\n      loading: false,\n      list: [],\n      dialogFormVisible: false,\n      form: {\n        type: '',\n        content: '',\n      },\n    }\n  },\n\n  mounted() {\n    this.loadList();\n  },\n\n  methods: {\n\n    loadList() {\n      this.loading = true;\n      ListDailyWork().then(res => {\n        setTimeout(() => {\n          this.list = res.data\n          this.loading = false\n        }, 700)\n      })\n    },\n\n    saveDailyWork() {\n      AddDailyWork(this.form).then(res => {\n        this.dialogFormVisible = false\n        this.loadList()\n        this.$message({\n          type: 'success',\n          message: '保存成功!'\n        });\n      })\n    },\n\n    handleDelete(index) {\n      DeleteDailyWork(this.list[index].id).then(res => {\n        this.list.slice(index, 1)\n        this.loadList()\n        this.$message({\n          type: 'success',\n          message: '删除成功!'\n        });\n      })\n    },\n\n  },\n\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}