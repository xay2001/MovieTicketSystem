{"remainingRequest":"/Users/xay/MovieTicketSystem/vue-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xay/MovieTicketSystem/vue-app/src/views/Active.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xay/MovieTicketSystem/vue-app/src/views/Active.vue","mtime":1642510434000},{"path":"/Users/xay/MovieTicketSystem/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":1681457359149},{"path":"/Users/xay/MovieTicketSystem/vue-app/node_modules/vue-loader/lib/index.js","mtime":1681457360544}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7TGlzdEFsbEFjdGl2aXR5LCBTdWJtaXRBY3RpdmV9IGZyb20gIkAvYXBpL2FjdGl2ZSI7CgpleHBvcnQgZGVmYXVsdCB7CgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiBbXSwKICAgICAgZm9ybTogewogICAgICAgIGFpZDogJycsCiAgICAgICAgdWlkOiAnJywKICAgICAgfSwKICAgIH0KICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy5sb2FkKCkKICB9LAoKICBtZXRob2RzOiB7CgogICAgbG9hZCgpIHsKICAgICAgTGlzdEFsbEFjdGl2aXR5KCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgdGhpcy5saXN0ID0gcmVzLmRhdGEKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAoKICAgIGhhbmRsZVJlZ2lzdGVyKGl0ZW0pIHsKICAgICAgaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidWlkIikpIHsKICAgICAgICB0aGlzLiRjb25maXJtKCfns7vnu5/ov5jmsqHmnInmo4DmtYvliLDmgqjnmoTnmbvpmYbkv6Hmga8sIOaYr+WQpuWOu+eZu+W9lT8nLCAn5o+Q56S6JywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKQogICAgICAgIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5mb3JtLmFpZCA9IGl0ZW0uaWQKICAgICAgICB0aGlzLmZvcm0udWlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VpZCcpCiAgICAgICAgU3VibWl0QWN0aXZlKHRoaXMuZm9ybSkudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICfmtLvliqjmiqXlkI3miJDlip/vvIEnLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9CiAgICB9LAoKICB9LAoKfQoK"},{"version":3,"sources":["Active.vue"],"names":[],"mappings":";AAoBA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"Active.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"main\">\n    <el-timeline>\n      <el-timeline-item\n          style=\"letter-spacing: 2px\"\n          v-for=\"(item, index) in list\"\n          :key=\"index\"\n          :timestamp=\"item.startTime\"\n          placement=\"top\">\n        <el-card>\n          <h4 class=\"h1\">{{ item.content }}</h4>\n          <h4 class=\"p1\">活动结束时间：{{ item.endTime }}</h4>\n          <el-button @click=\"handleRegister(item)\" type=\"text\">报名参加</el-button>\n        </el-card>\n      </el-timeline-item>\n    </el-timeline>\n  </div>\n</template>\n\n<script>\nimport {ListAllActivity, SubmitActive} from \"@/api/active\";\n\nexport default {\n\n  data() {\n    return {\n      list: [],\n      form: {\n        aid: '',\n        uid: '',\n      },\n    }\n  },\n\n  mounted() {\n    this.load()\n  },\n\n  methods: {\n\n    load() {\n      ListAllActivity().then(res => {\n        if (res.success) {\n          this.list = res.data\n        }\n      })\n    },\n\n    handleRegister(item) {\n      if (!localStorage.getItem(\"uid\")) {\n        this.$confirm('系统还没有检测到您的登陆信息, 是否去登录?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$router.push(\"/login\")\n        })\n      } else {\n        this.form.aid = item.id\n        this.form.uid = localStorage.getItem('uid')\n        SubmitActive(this.form).then(res => {\n          if (res.success) {\n            this.$message({\n              message: '活动报名成功！',\n              type: 'success'\n            });\n          }\n        })\n      }\n    },\n\n  },\n\n}\n\n</script>\n\n<style scoped>\n.main {\n  padding: 100px;\n}\n\n.h1 {\n  font-size: 18px;\n}\n\n.p1 {\n  color: #666666;\n  font-weight: 300;\n}\n</style>"]}]}