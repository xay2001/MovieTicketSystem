{"remainingRequest":"/Users/xay/MovieTicketSystem/vue-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xay/MovieTicketSystem/vue-app/src/views/Active.vue?vue&type=style&index=0&id=d1c2c280&scoped=true&lang=css&","dependencies":[{"path":"/Users/xay/MovieTicketSystem/vue-app/src/views/Active.vue","mtime":1642510434000},{"path":"/Users/xay/MovieTicketSystem/vue-app/node_modules/css-loader/dist/cjs.js","mtime":1681457359941},{"path":"/Users/xay/MovieTicketSystem/vue-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1681457360982},{"path":"/Users/xay/MovieTicketSystem/vue-app/node_modules/postcss-loader/src/index.js","mtime":1681457360339},{"path":"/Users/xay/MovieTicketSystem/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":1681457359149},{"path":"/Users/xay/MovieTicketSystem/vue-app/node_modules/vue-loader/lib/index.js","mtime":1681457360544}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5tYWluIHsKICBwYWRkaW5nOiAxMDBweDsKfQoKLmgxIHsKICBmb250LXNpemU6IDE4cHg7Cn0KCi5wMSB7CiAgY29sb3I6ICM2NjY2NjY7CiAgZm9udC13ZWlnaHQ6IDMwMDsKfQo="},{"version":3,"sources":["Active.vue"],"names":[],"mappings":";AA8EA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Active.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"main\">\n    <el-timeline>\n      <el-timeline-item\n          style=\"letter-spacing: 2px\"\n          v-for=\"(item, index) in list\"\n          :key=\"index\"\n          :timestamp=\"item.startTime\"\n          placement=\"top\">\n        <el-card>\n          <h4 class=\"h1\">{{ item.content }}</h4>\n          <h4 class=\"p1\">活动结束时间：{{ item.endTime }}</h4>\n          <el-button @click=\"handleRegister(item)\" type=\"text\">报名参加</el-button>\n        </el-card>\n      </el-timeline-item>\n    </el-timeline>\n  </div>\n</template>\n\n<script>\nimport {ListAllActivity, SubmitActive} from \"@/api/active\";\n\nexport default {\n\n  data() {\n    return {\n      list: [],\n      form: {\n        aid: '',\n        uid: '',\n      },\n    }\n  },\n\n  mounted() {\n    this.load()\n  },\n\n  methods: {\n\n    load() {\n      ListAllActivity().then(res => {\n        if (res.success) {\n          this.list = res.data\n        }\n      })\n    },\n\n    handleRegister(item) {\n      if (!localStorage.getItem(\"uid\")) {\n        this.$confirm('系统还没有检测到您的登陆信息, 是否去登录?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$router.push(\"/login\")\n        })\n      } else {\n        this.form.aid = item.id\n        this.form.uid = localStorage.getItem('uid')\n        SubmitActive(this.form).then(res => {\n          if (res.success) {\n            this.$message({\n              message: '活动报名成功！',\n              type: 'success'\n            });\n          }\n        })\n      }\n    },\n\n  },\n\n}\n\n</script>\n\n<style scoped>\n.main {\n  padding: 100px;\n}\n\n.h1 {\n  font-size: 18px;\n}\n\n.p1 {\n  color: #666666;\n  font-weight: 300;\n}\n</style>"]}]}